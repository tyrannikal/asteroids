{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Asteroids Game","text":"<p>A Tiger Style compliant Asteroids game implementation using pygame with strict Pydantic validation.</p>"},{"location":"#overview","title":"Overview","text":"<p>This project implements a classic Asteroids-style game with a focus on:</p> <ul> <li>Tiger Style Compliance: Extensive assertions that validate runtime invariants</li> <li>Type Safety: Strict type checking with mypy and pyright</li> <li>Validation: Pydantic models for runtime validation of pygame objects</li> <li>Code Quality: Comprehensive linting with ruff, pylint, bandit, vulture, and radon</li> <li>Testing: 96%+ code coverage with pytest</li> </ul>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Player ship with triangle rendering and rotation</li> <li>Strict validation of all pygame types (Surface, Rect, etc.)</li> <li>Game state and event logging for debugging</li> <li>Immutable configuration with Pydantic models</li> <li>Pre-commit hooks ensuring code quality</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#installation","title":"Installation","text":"<pre><code># Install game dependencies\npip install -e .\n\n# Install test dependencies\npip install -e \".[test]\"\n\n# Install documentation dependencies\npip install -e \".[docs]\"\n</code></pre>"},{"location":"#running-the-game","title":"Running the Game","text":"<pre><code>python main.py\n</code></pre>"},{"location":"#running-tests","title":"Running Tests","text":"<pre><code>pytest\n</code></pre>"},{"location":"#building-documentation","title":"Building Documentation","text":"<pre><code>mkdocs build\n</code></pre>"},{"location":"#serving-documentation-locally","title":"Serving Documentation Locally","text":"<pre><code>mkdocs serve\n</code></pre>"},{"location":"#project-structure","title":"Project Structure","text":"<pre><code>asteroids/\n\u251c\u2500\u2500 main.py                 # Game entry point and main loop\n\u251c\u2500\u2500 player.py               # Player ship class\n\u251c\u2500\u2500 circleshape.py          # Base class for circular game objects\n\u251c\u2500\u2500 constants.py            # Validated game constants\n\u251c\u2500\u2500 logger.py               # Game state and event logging\n\u251c\u2500\u2500 validationfunctions.py  # Pydantic wrappers for pygame types\n\u251c\u2500\u2500 tests/                  # Comprehensive test suite\n\u2514\u2500\u2500 docs/                   # Documentation source files\n</code></pre>"},{"location":"#development-philosophy","title":"Development Philosophy","text":"<p>This project follows \"Tiger Style\" development:</p> <ul> <li>Assertions are never disabled (Python must not run with -O flag)</li> <li>Every assumption is validated at runtime</li> <li>Type hints are comprehensive and checked strictly</li> <li>Code coverage must remain above 90%</li> <li>All quality tools must pass before commit</li> </ul> <p>Documentation follows the principle of \"docstrings only where they add value\" - simple, self-evident code doesn't need docstrings, but complex logic and abstractions are well-documented.</p>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Browse the API Reference for detailed code documentation</li> <li>Read about Testing practices</li> <li>Learn about Code Style requirements</li> </ul>"},{"location":"api/asteroid/","title":"Asteroid Module","text":"<p>The asteroid module implements asteroid objects that spawn and move through the game area with Pydantic validation.</p>"},{"location":"api/asteroid/#asteroid","title":"asteroid","text":""},{"location":"api/asteroidfield/","title":"AsteroidField Module","text":"<p>The asteroidfield module implements the asteroid spawning system that generates asteroids at random edges with Pydantic validation.</p>"},{"location":"api/asteroidfield/#asteroidfield","title":"asteroidfield","text":""},{"location":"api/circleshape/","title":"CircleShape Module","text":"<p>Base class for circular game objects with position, velocity, and collision detection.</p>"},{"location":"api/circleshape/#circleshape","title":"circleshape","text":""},{"location":"api/constants/","title":"Constants Module","text":"<p>Game constants and configuration with Pydantic validation.</p>"},{"location":"api/constants/#constants","title":"constants","text":""},{"location":"api/logger/","title":"Logger Module","text":"<p>Game state and event logging for debugging and analysis.</p>"},{"location":"api/logger/#logger","title":"logger","text":""},{"location":"api/main/","title":"Main Module","text":"<p>The main module contains the game entry point and core game loop.</p>"},{"location":"api/main/#main","title":"main","text":""},{"location":"api/player/","title":"Player Module","text":"<p>The player module implements the player ship with triangle rendering and Pydantic validation.</p>"},{"location":"api/player/#player","title":"player","text":""},{"location":"api/validationfunctions/","title":"Validation Functions Module","text":"<p>Pydantic validation wrappers for pygame types.</p>"},{"location":"api/validationfunctions/#validationfunctions","title":"validationfunctions","text":""},{"location":"development/style/","title":"Code Style","text":"<p>The Asteroids project follows strict code quality standards with multiple linting and analysis tools.</p>"},{"location":"development/style/#tiger-style-compliance","title":"Tiger Style Compliance","text":"<p>This project follows \"Tiger Style\" development principles:</p>"},{"location":"development/style/#assertions-always-enabled","title":"Assertions Always Enabled","text":"<p>Python must never run with optimization flags (<code>-O</code> or <code>-OO</code>):</p> <pre><code>if sys.flags.optimize != 0:\n    raise RuntimeError(\"Assertions are REQUIRED for Tiger Style compliance\")\n</code></pre>"},{"location":"development/style/#validate-everything","title":"Validate Everything","text":"<p>Every assumption about runtime state is validated with assertions:</p> <pre><code>game_modules: tuple[int, int] = pygame.init()\nassert isinstance(game_modules, tuple), \"pygame.init() must return type tuple\"\nsuccess_count, failure_count = game_modules\nassert success_count &gt; 0, \"pygame.init() must have at least one module succeed\"\nassert failure_count == 0, \"pygame.init() must not have any modules fail\"\n</code></pre>"},{"location":"development/style/#code-quality-tools","title":"Code Quality Tools","text":"<p>All tools run automatically via pre-commit hooks:</p>"},{"location":"development/style/#ruff","title":"Ruff","text":"<p>Fast Python linter and formatter:</p> <pre><code># Format code\nruff format .\n\n# Lint with auto-fix\nruff check --fix .\n</code></pre> <p>Configuration in <code>pyproject.toml</code>: - Line length: 100 - Target: Python 3.13 - All rules enabled except docstring requirements</p>"},{"location":"development/style/#mypy","title":"Mypy","text":"<p>Static type checker in strict mode:</p> <pre><code>mypy .\n</code></pre> <p>Requirements: - All functions must have type hints - No <code>Any</code> types from untyped imports - No implicit optionals</p>"},{"location":"development/style/#pyright","title":"Pyright","text":"<p>Additional strict type checking:</p> <pre><code>pyright\n</code></pre> <p>Provides additional type safety checks beyond mypy.</p>"},{"location":"development/style/#pylint","title":"Pylint","text":"<p>Code quality and complexity analysis:</p> <pre><code>pylint *.py\n</code></pre> <p>Limits: - Max arguments: 5 - Max local variables: 15 - Max returns: 3 - Max branches: 12</p>"},{"location":"development/style/#bandit","title":"Bandit","text":"<p>Security vulnerability scanner:</p> <pre><code>bandit -r . -ll\n</code></pre> <p>Checks for common security issues in Python code.</p>"},{"location":"development/style/#vulture","title":"Vulture","text":"<p>Dead code detection:</p> <pre><code>vulture . --min-confidence 80\n</code></pre> <p>Identifies unused code (with whitelist for pytest fixtures).</p>"},{"location":"development/style/#radon","title":"Radon","text":"<p>Cyclomatic complexity checker:</p> <pre><code>radon cc . -a -nb --min A\n</code></pre> <p>Enforces Grade A complexity (low complexity).</p>"},{"location":"development/style/#type-hints","title":"Type Hints","text":"<p>All functions must have complete type hints:</p> <pre><code>def new_player_center() -&gt; Player:\n    player: Player = Player(GameArea().SCREEN_WIDTH / 2, GameArea().SCREEN_HEIGHT / 2)\n    return player\n</code></pre> <p>Use <code># type: ignore[specific-error]</code> only when absolutely necessary.</p>"},{"location":"development/style/#documentation-standards","title":"Documentation Standards","text":""},{"location":"development/style/#docstrings-only-where-they-add-value","title":"Docstrings Only Where They Add Value","text":"<ul> <li>Module docstrings describe file purpose</li> <li>Class docstrings describe abstractions</li> <li>Function docstrings only for complex/non-obvious logic</li> <li>Don't document self-evident code</li> </ul> <p>Example of when to use docstrings:</p> <pre><code># YES - Complex, non-obvious behavior\ndef log_state() -&gt; None:\n    \"\"\"Log current game state by introspecting caller's local variables.\"\"\"\n    # ... introspection magic ...\n\n# NO - Self-evident from name and types\ndef new_player_center() -&gt; Player:\n    player: Player = Player(GameArea().SCREEN_WIDTH / 2, GameArea().SCREEN_HEIGHT / 2)\n    return player\n</code></pre>"},{"location":"development/style/#comments","title":"Comments","text":"<p>Keep only functional comments:</p> <ul> <li><code># type: ignore[...]</code> - Type checker pragmas</li> <li><code># noqa: ...</code> - Linter suppressions</li> <li><code># pylint: disable=...</code> - Pylint suppressions</li> </ul> <p>Remove explanatory comments that just restate the code.</p>"},{"location":"development/style/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>Install hooks to enforce quality on every commit:</p> <pre><code>pre-commit install\n</code></pre> <p>Hook sequence: 1. ruff-format - Format code 2. ruff-lint - Lint and auto-fix 3. mypy - Type check 4. pyright - Additional type checking 5. pylint - Code quality check 6. bandit - Security scan 7. vulture - Dead code detection 8. pytest - Run tests with coverage 9. radon - Complexity check</p> <p>All hooks must pass before commit is allowed.</p>"},{"location":"development/style/#pydantic-validation","title":"Pydantic Validation","text":"<p>Use Pydantic for runtime validation:</p> <pre><code>class PlayerDimensions(BaseModel):\n    PLAYER_RADIUS: int = Field(gt=0, default=player_radius_literal)\n    LINE_WIDTH: int = Field(gt=0, default=line_width_literal)\n    model_config = ConfigDict(frozen=True)\n</code></pre> <p>Validators should raise <code>TypeError</code> or <code>ValueError</code> (Pydantic wraps them in <code>ValidationError</code>).</p>"},{"location":"development/testing/","title":"Testing","text":"<p>The Asteroids project maintains comprehensive test coverage with pytest.</p>"},{"location":"development/testing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest\n\n# Run with coverage report\npytest --cov=. --cov-report=term-missing\n\n# Run specific test file\npytest tests/test_player.py\n\n# Run tests matching a pattern\npytest -k \"test_player\"\n</code></pre>"},{"location":"development/testing/#test-organization","title":"Test Organization","text":"<p>Tests are organized in the <code>tests/</code> directory with the following structure:</p> <ul> <li><code>conftest.py</code> - Shared fixtures and pytest configuration</li> <li><code>test_*.py</code> - Test modules matching source modules</li> </ul>"},{"location":"development/testing/#test-markers","title":"Test Markers","text":"<p>Tests are marked with custom markers:</p> <ul> <li><code>@pytest.mark.unit</code> - Unit tests that don't require pygame initialization</li> <li><code>@pytest.mark.integration</code> - Integration tests requiring pygame.init()</li> </ul> <p>Run specific markers:</p> <pre><code>pytest -m unit\npytest -m integration\n</code></pre>"},{"location":"development/testing/#code-coverage","title":"Code Coverage","text":"<p>The project enforces 90%+ code coverage. Current coverage: 96.56%</p> <p>Coverage reports are generated in: - Terminal output (during test run) - <code>htmlcov/</code> directory (open <code>htmlcov/index.html</code> in browser)</p>"},{"location":"development/testing/#testing-philosophy","title":"Testing Philosophy","text":""},{"location":"development/testing/#dont-mock-what-you-dont-own","title":"Don't Mock What You Don't Own","text":"<p>The test suite follows the principle of not mocking external libraries (like pygame). Instead:</p> <ul> <li>Use real pygame objects when possible</li> <li>Mock only I/O boundaries (file operations, time, etc.)</li> <li>Validate actual behavior, not implementation details</li> </ul>"},{"location":"development/testing/#test-what-matters","title":"Test What Matters","text":"<ul> <li>Focus on testing behavior and invariants</li> <li>Don't test tautologies or framework guarantees</li> <li>Validate type constraints and assertions fire correctly</li> </ul>"},{"location":"development/testing/#key-fixtures","title":"Key Fixtures","text":""},{"location":"development/testing/#clean_logger_state","title":"<code>clean_logger_state</code>","text":"<p>Resets logger module state between tests to ensure isolation.</p> <pre><code>def test_logging(clean_logger_state):\n    # Logger state is clean\n    log_state()\n</code></pre>"},{"location":"development/testing/#mock_pygame_init","title":"<code>mock_pygame_init</code>","text":"<p>Provides a mocked pygame initialization for tests that need it.</p> <pre><code>def test_game_init(mock_pygame_init):\n    # pygame.init() is mocked\n    start_game()\n</code></pre>"},{"location":"development/testing/#pre-commit-integration","title":"Pre-commit Integration","text":"<p>Tests run automatically on every commit via pre-commit hooks:</p> <pre><code># Run pre-commit manually\npre-commit run --all-files\n\n# Install pre-commit hooks\npre-commit install\n</code></pre> <p>The pytest hook ensures all tests pass and coverage remains above 90% before allowing commits.</p>"}]}